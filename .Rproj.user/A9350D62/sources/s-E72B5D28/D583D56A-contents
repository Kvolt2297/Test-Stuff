#
#Permutation Test Example
#


#In this example want to derive our own null distribution
# an existing data set,

nA <- 40 # Has to be an even number
nB <- 40 #Just the fisrt group has to be even

# step 1 the data 
set.seed(1)
A <- c(rnorm(nA/2, 5, 2), rnorm(nA/2, 5, 2))
hist(A)
mean(A)
abline(v=mean(A), col = "red")

#Bimodal distribution

B <- rnorm(nB, 25, 2)
hist(B)
mean(B)

# as test statiistic we take the difference
stats.diff <- mean(A) - mean(B)

tt<- c(1:10)
sample(tt, 10, replace = FALSE)
# let's resample and remember that under 
#so we can pool A and B and randomly 
AB<- c(A, B) #Merge them into big number
#reshuffle
AB.reshuffl <- sample(length(AB), replaced
                      
#Assign first nA to A. temp
A.temp <- AB.shuffl[1:nA]
# the rest of the reshuffled ve

#calculate the test stats under the null hypothesis
stat.diff.H0 <- mean(A.temp) - mean(B.temp)

storage.vector <- rep(NA, 10)
for(i in 1:10){
 storage.vector[i] <- i^2 
}  


